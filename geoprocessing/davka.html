
<!DOCTYPE html>

<html lang="cs">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Dávkové zpracování &#8212; Školení QGIS pro pokročilé</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gismentors.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Rejstřík" href="../genindex.html" />
    <link rel="search" title="Vyhledávání" href="../search.html" />
    <link rel="next" title="Grafický modelář" href="../modeler/index.html" />
    <link rel="prev" title="Externí geoalgoritmy" href="externi.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="../index.html">Školení QGIS pro pokročilé</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="externi.html" title="Externí geoalgoritmy"
             accesskey="P">předchozí</a> |
          <a href="../modeler/index.html" title="Grafický modelář"
             accesskey="N">další</a> |
          <a href="../genindex.html" title="Obecný rejstřík"
             accesskey="I">rejstřík</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="davkove-zpracovani">
<span id="davka"></span><h1>Dávkové zpracování<a class="headerlink" href="#davkove-zpracovani" title="Permalink to this heading">¶</a></h1>
<p>Dávkové zpracování nám umožní spustit jeden algoritmus vícekrát najednou
s různými parametry. Spustit dávkový proces lze přímo z okna nástrojů
zpracování vyvoláním kontextové nabídky pravým kliknutím na požadovaný
algoritmus a výběrem <span class="guilabel">Spustit dávkový proces</span>
(<a class="reference internal" href="#batch"><span class="std std-numref">Obr. 43</span></a>). Další možnost jak dávkový proces spustit je přímo
z okna algoritmu, pomocí tlačítka <span class="item">Spustit jako dávkový proces</span>
v levém dolním rohu (<a class="reference internal" href="#batch2"><span class="std std-numref">Obr. 44</span></a>).</p>
<figure class="align-center" id="id1">
<span id="batch"></span><img alt="../_images/geoproc_batch.png" class="middle" src="../_images/geoproc_batch.png" />
<figcaption>
<p><span class="caption-number">Obr. 43 </span><span class="caption-text">Spuštění dávkového procesu z okna nástrojů zpracování.</span><a class="headerlink" href="#id1" title="Permalink k tomuto obrázku">¶</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id2">
<span id="batch2"></span><img alt="../_images/geoproc_batch2.png" class="small" src="../_images/geoproc_batch2.png" />
<figcaption>
<p><span class="caption-number">Obr. 44 </span><span class="caption-text">Tlačítko <span class="item">Spustit jako dávkový proces</span> v okně algoritmu.</span><a class="headerlink" href="#id2" title="Permalink k tomuto obrázku">¶</a></p>
</figcaption>
</figure>
<section id="popis-okna">
<h2>Popis okna<a class="headerlink" href="#popis-okna" title="Permalink to this heading">¶</a></h2>
<p>V okně dávkového zpracování máme opět záložky <span class="guilabel">Parametry</span> a
<span class="guilabel">Záznam</span>. V záložce <span class="guilabel">Parametry</span> se nám zobrazí
všechny vstupní parametry vybraného algoritmu v jednom řádku, každý
řádek potom odpovídá samostatnému procesu. Řádky lze přidávat a
odebírat pomocí tlačítek <a class="reference internal" href="../_images/symbologyAdd.png"><img alt="symbologyAdd" src="../_images/symbologyAdd.png" style="width: 1.5em;" /></a> a <a class="reference internal" href="../_images/symbologyRemove.png"><img alt="symbologyRemove" src="../_images/symbologyRemove.png" style="width: 1.5em;" /></a>. Dále lze
nakonfigurovaný dávkový proces uložit <a class="reference internal" href="../_images/mActionFileSave.png"><img alt="mActionFileSave" src="../_images/mActionFileSave.png" style="width: 1.5em;" /></a> do souboru ve
formátu <a class="reference external" href="http://cs.wikipedia.org/wiki/JSON">JSON</a> nebo tento typ souboru nahrát
<a class="reference internal" href="../_images/mActionFileOpen.png"><img alt="mActionFileOpen" src="../_images/mActionFileOpen.png" style="width: 1.5em;" /></a>. U algoritmů, kde je možná volba pokročilého
nastavení se pro aktivaci těchto parametrů ukáže ikonka
<a class="reference internal" href="../_images/processingAlgorithm.png"><img alt="processingAlgorithm" src="../_images/processingAlgorithm.png" style="width: 1.5em;" /></a>. Záložka záznam má totožnou funkci jako u
samostatného procesu. Pokud chceme výsledné vrstvy načíst do projektu,
je nutné zaškrtnout políčko <span class="guilabel">Načíst vrstvy po dokončení</span>.</p>
<figure class="align-center" id="id3">
<img alt="../_images/geoproc_batch_win.png" class="middle" src="../_images/geoproc_batch_win.png" />
<figcaption>
<p><span class="caption-number">Obr. 45 </span><span class="caption-text">Okno dávkového zpracování.</span><a class="headerlink" href="#id3" title="Permalink k tomuto obrázku">¶</a></p>
</figcaption>
</figure>
<div class="admonition warning">
<p class="admonition-title">Varování</p>
<p>Při odebírání řádků se odebere vždy poslední řádek.</p>
</div>
</section>
<section id="zadavani-parametru">
<h2>Zadávání parametrů<a class="headerlink" href="#zadavani-parametru" title="Permalink to this heading">¶</a></h2>
<p>Zadávání parametrů funguje, až na malé odchylky, stejně jako u
samostatného procesu. Některá specifika si popíšeme níže.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Poklikáním na název sloupce/parametru, se automaticky vyplní
hodnoty prvního řádku do ostatních řádků.</p>
</div>
<section id="vyber-vrstev">
<h3>Výběr vrstev<a class="headerlink" href="#vyber-vrstev" title="Permalink to this heading">¶</a></h3>
<p>Výběr vrstev provádíme za pomocí tlačítka <span class="item">…</span>, kdy můžeme buď vybrat
vrstvy nahrané v projektu (<a class="reference internal" href="#batchlay"><span class="std std-numref">Obr. 47</span></a>) nebo vyhledat soubory uložené na
disku. V obou případech je možné (u některých algoritmů nutné) vybrat více
vrstev. Pokud se jedná o algoritmus se vstupem jedné vrstvy, při výběru  více
vrstev se jednotlivé vrstvy přiřadí k vlastním procesům procesům.</p>
<figure class="align-center" id="id4">
<img alt="../_images/geoproc_batch_lay.png" class="middle" src="../_images/geoproc_batch_lay.png" />
<figcaption>
<p><span class="caption-number">Obr. 46 </span><span class="caption-text">Možnosti výběru vrstev.</span><a class="headerlink" href="#id4" title="Permalink k tomuto obrázku">¶</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id5">
<span id="batchlay"></span><img alt="../_images/geoproc_batch_lay2.png" class="small" src="../_images/geoproc_batch_lay2.png" />
<figcaption>
<p><span class="caption-number">Obr. 47 </span><span class="caption-text">Výběr více vrstev v projektu.</span><a class="headerlink" href="#id5" title="Permalink k tomuto obrázku">¶</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id6">
<img alt="../_images/geoproc_batch_lay3.png" class="middle" src="../_images/geoproc_batch_lay3.png" />
<figcaption>
<p><span class="caption-number">Obr. 48 </span><span class="caption-text">Při výběru více vrstev se každá přiřadí k vlastnímu procesu.</span><a class="headerlink" href="#id6" title="Permalink k tomuto obrázku">¶</a></p>
</figcaption>
</figure>
</section>
<section id="vystupni-soubor">
<h3>Výstupní soubor<a class="headerlink" href="#vystupni-soubor" title="Permalink to this heading">¶</a></h3>
<p>Zde je, oproti samostatnému procesu, nutné zadat cestu k výstupnímu souboru
pomocí tlačítka <span class="item">…</span>. Stačí však zadat uložení prvního výstupního
souboru a objeví se nám okno pro automatické doplnění výstupních souborů
(<a class="reference internal" href="#batchout"><span class="std std-numref">Obr. 49</span></a>). Zde je možné automaticky vytvořit výstupní soubory s
příponou pořadového čísla nebo na základě vybraného vstupního parametru
(název vrstvy, velikost bufferu atd., viz <a class="reference internal" href="#batchout2"><span class="std std-numref">Obr. 50</span></a>).</p>
<div class="admonition warning">
<p class="admonition-title">Varování</p>
<p>Pokud v obecném nastavení možností zpracování neaktivujeme
<a class="reference internal" href="../_images/processingAlgorithm.png"><img alt="processingAlgorithm" src="../_images/processingAlgorithm.png" style="width: 1.5em;" /></a><span class="guilabel">Použít název souboru pro název vrstvy</span> budou
výsledné vrstvy v panelu vrstev pojmenovávány podle algoritmu (viz.
<a class="reference internal" href="nastaveni.html#nastaveni"><span class="std std-ref">Nastavení, historie, prohlížení výsledků</span></a> ). Samotné soubory však budou pojmenované podle naší
konfigurace výstupu.</p>
</div>
<figure class="align-center" id="id7">
<span id="batchout"></span><img alt="../_images/geoproc_batch_out.png" class="tiny" src="../_images/geoproc_batch_out.png" />
<figcaption>
<p><span class="caption-number">Obr. 49 </span><span class="caption-text">Nastavení automatického vyplnění výstupního souboru.</span><a class="headerlink" href="#id7" title="Permalink k tomuto obrázku">¶</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id8">
<span id="batchout2"></span><img alt="../_images/geoproc_batch_out2.png" class="tiny" src="../_images/geoproc_batch_out2.png" />
<figcaption>
<p><span class="caption-number">Obr. 50 </span><span class="caption-text">Možnosti automatického vytvoření přípon výstupního souboru.</span><a class="headerlink" href="#id8" title="Permalink k tomuto obrázku">¶</a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">Poznámka</p>
<p>U vektorových dat nelze v současné verzi nastavit spuštění
pouze vybrané prvky.</p>
</div>
</section>
</section>
<section id="prakticka-ukazka">
<h2>Praktická ukázka<a class="headerlink" href="#prakticka-ukazka" title="Permalink to this heading">¶</a></h2>
<p>V následujících příkladech si ukážeme možné praktické využití dávkového
zpracování.</p>
<section id="tvorba-vicenasobne-obalove-zony">
<h3>Tvorba vícenásobné obalové zóny<a class="headerlink" href="#tvorba-vicenasobne-obalove-zony" title="Permalink to this heading">¶</a></h3>
<p>V případě, že potřebujeme kolem nějakého území vytvořit větší počet
různě velkých obalových zón, je možné využít funkci
<a class="reference internal" href="../_images/mAlgorithmBuffer.png"><img alt="mAlgorithmBuffer" src="../_images/mAlgorithmBuffer.png" style="width: 1.5em;" /></a><span class="guilabel">Obalová zóna</span> v režimu dávkového procesu. V našem
příkladu vytvoříme z vrstvy velkoplošných chráněných území tři
obalové zóny (1, 5 a 10 km).</p>
<p>Spustíme dávkový proces algoritmu, nastavíme vstupní vrstvu s do tří
řádků (pro každý proces) a požadované hodnoty vzdáleností obalové zóny
v metrech (1000, 5000, 10000).</p>
<figure class="align-center" id="id9">
<img alt="../_images/geoproc_batch_pract1.png" src="../_images/geoproc_batch_pract1.png" />
<figcaption>
<p><span class="caption-number">Obr. 51 </span><span class="caption-text">Tvorba vícenásobné obalové zóny vybraného území.</span><a class="headerlink" href="#id9" title="Permalink k tomuto obrázku">¶</a></p>
</figcaption>
</figure>
<p>Vybereme výstupní soubor a nastavíme automatickou výpň na základě parametru
<span class="guilabel">Vzdálenost</span> a spustíme dávkový proces tlačítkem <span class="item">Run</span>,
zkontrolujeme záznamy a zavřeme okno. V tomto případě se nám do názvu
souboru vloží i znak čárky (jedná se o číslo s desetinnou čárkou) což
není zrovna ideální. Název můžeme opravit ručně přímo v okně, nebo
v případě potřeby potom soubory hromadně přejmenovat.</p>
<figure class="align-center" id="id10">
<img alt="../_images/geoproc_batch_pract1_2.png" class="tiny" src="../_images/geoproc_batch_pract1_2.png" />
<figcaption>
<p><span class="caption-number">Obr. 52 </span><span class="caption-text">Nastavení automatického vyplnění na základě parametru - Vzdálenost.</span><a class="headerlink" href="#id10" title="Permalink k tomuto obrázku">¶</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id11">
<img alt="../_images/geoproc_batch_pract1_3.png" class="small" src="../_images/geoproc_batch_pract1_3.png" />
<figcaption>
<p><span class="caption-number">Obr. 53 </span><span class="caption-text">Výsledné názvy výstupních souborů</span><a class="headerlink" href="#id11" title="Permalink k tomuto obrázku">¶</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id12">
<img alt="../_images/geoproc_batch_pract1_4.png" class="middle" src="../_images/geoproc_batch_pract1_4.png" />
<figcaption>
<p><span class="caption-number">Obr. 54 </span><span class="caption-text">Výsledek tvorby vícenásobné obalové zóny.</span><a class="headerlink" href="#id12" title="Permalink k tomuto obrázku">¶</a></p>
</figcaption>
</figure>
</section>
<section id="orezani-vice-rastrovych-vrstev">
<h3>Ořezání více rastrových vrstev<a class="headerlink" href="#orezani-vice-rastrovych-vrstev" title="Permalink to this heading">¶</a></h3>
<p>K tomuto úkolu budeme potřebovat více rastrových vrstev, pokud nemáme,
vytvoříme z digitálního modelu terénu (dmt) vrstvu sklonu svahů (Slope) a
orientace svahů (Aspect). K vytvoření vrstvy sklonu a orientace svahů jsme nyní
schopni využít více funkcí, mimo vestavěné funkce QGISu to jsou  např. GDAL
<a class="reference internal" href="../_images/providerGdal.png"><img alt="providerGdal" src="../_images/providerGdal.png" style="width: 1.5em;" /></a><span class="guilabel">Sklon</span> a <a class="reference internal" href="../_images/providerGdal.png"><img alt="providerGdal" src="../_images/providerGdal.png" style="width: 1.5em;" /></a><span class="guilabel">Aspekt</span> nebo využít externí
<a class="reference internal" href="../_images/providerGrass.png"><img alt="providerGrass" src="../_images/providerGrass.png" style="width: 1.5em;" /></a><a class="reference external" href="http://grass.osgeo.org/grass80/manuals/r.slope.aspect.html">r.slope.aspect</a> nebo <a class="reference internal" href="../_images/providerSaga.png"><img alt="providerSaga" src="../_images/providerSaga.png" style="width: 1.5em;" /></a><span class="guilabel">Slope, aspect,
curvature</span>.</p>
<figure class="align-center" id="id13">
<img alt="../_images/geoproc_batch_pract2.png" src="../_images/geoproc_batch_pract2.png" />
<figcaption>
<p><span class="caption-number">Obr. 55 </span><span class="caption-text">Rastrové vrstvy.</span><a class="headerlink" href="#id13" title="Permalink k tomuto obrázku">¶</a></p>
</figcaption>
</figure>
<p>Vytvořili jsme tedy 2 nové rastrové vrstvy. Nyní opět využijeme
funkci <a class="reference internal" href="../_images/raster-clip.png"><img alt="raster-clip" src="../_images/raster-clip.png" style="width: 1.5em;" /></a> <span class="guilabel">Oříznout rastr podle rozsahu</span>, ale
tentokrát jako dávkový proces na všechny rastrové vrstvy najednou.</p>
<p>Jako vstupní vrstvy vybereme rastrové vrstvy, které chceme ořezat (dmt, aspect,
slope), a zvolíme rozsah ořezu v mapovém okně, hodnotu rozsahu potom
nakopírujeme do dalších řádků (<a class="reference internal" href="#batchclip"><span class="std std-numref">Obr. 56</span></a>). Výstupním souborům necháme
přidělit příponu podle parametru <span class="guilabel">Vstupní vrstva</span> a spustíme proces.</p>
<figure class="align-center" id="id14">
<span id="batchclip"></span><img alt="../_images/geoproc_batch_pract2_3.png" class="middle" src="../_images/geoproc_batch_pract2_3.png" />
<figcaption>
<p><span class="caption-number">Obr. 56 </span><span class="caption-text">Vstupní vrstvy a zvolený rozsah pro dávkový zpracování
<a class="reference internal" href="../_images/raster-clip.png"><img alt="raster-clip" src="../_images/raster-clip.png" style="width: 1.5em;" /></a> <span class="guilabel">Oříznout rastr podle rozsahu</span>.</span><a class="headerlink" href="#id14" title="Permalink k tomuto obrázku">¶</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id15">
<img alt="../_images/geoproc_batch_pract2_4.png" src="../_images/geoproc_batch_pract2_4.png" />
<figcaption>
<p><span class="caption-number">Obr. 57 </span><span class="caption-text">Automatické přidělení přípony výstupním souborům na základě
vstupních vrstev.</span><a class="headerlink" href="#id15" title="Permalink k tomuto obrázku">¶</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id16">
<img alt="../_images/geoproc_batch_pract2_5.png" src="../_images/geoproc_batch_pract2_5.png" />
<figcaption>
<p><span class="caption-number">Obr. 58 </span><span class="caption-text">Výsledek hromadného ořezání rastrových vrstev.</span><a class="headerlink" href="#id16" title="Permalink k tomuto obrázku">¶</a></p>
</figcaption>
</figure>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          
          <h3>Table of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../georeferencovani/index.html">Georeferencování obrazových dat</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Nástroje zpracování</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="uvod.html">Orientace v nástrojích</a></li>
<li class="toctree-l2"><a class="reference internal" href="spousteni.html">Spouštění geoalgoritmů</a></li>
<li class="toctree-l2"><a class="reference internal" href="nastaveni.html">Nastavení, historie, prohlížení výsledků</a></li>
<li class="toctree-l2"><a class="reference internal" href="externi.html">Externí geoalgoritmy</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Dávkové zpracování</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modeler/index.html">Grafický modelář</a></li>
<li class="toctree-l1"><a class="reference internal" href="../grass/index.html">Zásuvný modul GRASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hydrologie/index.html">Ukázka analýzy - hydrologie</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3d/index.html">Práce s 3D daty</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pokrocile_upravy/index.html">Pokročilé úpravy prostředí</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ruzne/index.html">Různé</a></li>
<li class="toctree-l1"><a class="reference internal" href="../priklady/index.html">Příklady</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Vyhledávání</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="OK" />
            </form>
          </div>

        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="externi.html" title="Externí geoalgoritmy"
              >předchozí</a> |
            <a href="../modeler/index.html" title="Grafický modelář"
              >další</a> |
            <a href="../genindex.html" title="Obecný rejstřík"
              >rejstřík</a>
          </div>
          <div role="note" aria-label="source link">
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015-2023 GISMentors.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>